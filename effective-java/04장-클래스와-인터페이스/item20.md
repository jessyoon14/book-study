# 20. 추상 클래스보다는 인터페이스를 우선하라

### 추상 클래스와 인터페이스의 차이

- 추상 클래스: 구현 클래스는 반드시 추상 클래스의 하위 클래스
    - 자바는 단일 상속 → 새로운 타입을 정의하는데 제약
    - 기존 클래스 위에 새로운 추상 클래스를 넣기는 어렵다
- 인터페이스: 다른 어떤 클래스를 상속했든 같은 타입으로 취급

### 인터페이스의 장점

- 기존 클래스에 쉽게 새 인터페이스를 구현해넣을 수 있다
- mixin 정의에 적합 (mixin: 클래스가 구현할 수 있는 타입. 원래의 주된 타입 외에 특정 선택적 행위를 제공한다고 선언. 예시: Comparable, …)
- 인터페이스로는 계층구조가 없는 타입 프레임워크를 만들 수 있다
    - 계층구조 타입: 현실에서 계층을 구분하기 어려울 때도 있음 (Singer, Songwriter, Singer-songwriter)
- 필요시 default method 제공 가능

### 템플릿 메소드

- 인터페이스 + skeletal implementation 클래스 = 인터페이스와 추상 클래스 양쪽의 장점
- 인터페이스로 타입 정의 + 디폴트 메소드 제공
- 골격 구현 클래스로 나머지 메소드 구현
- 장점
    - 추상 클래스처럼 구현을 도와주지만, 추상 클래스로 타입을 정의할 때 오는 제약에서 자유로읍
- naming practice
    - 인터페이스: Collection
    - 골격 구현 클래스: AbstractCollection
- 방법
    - 인터페이스의 기반 메소드들을 선정 (이 친구들이 골격 구현에서 추상 메소드가 됨)
    - 기반 메소드들을 사용해서 직접 구현할 수 있는 메소드는 전부 디폴트 메소드로 제공 (equals, hashCode 등 Object 메소드는 디폴트 메소드로 제공하면 안됨)
    - 인터페이스의 모든 메소드들이 기반 / 디폴트가 된다면 골격 구현 안만들어도 됨. 아직 만들지 못한 메서드가 남아있다면, 이 인터페이스를 구현하는 골격 구현 클래스를 만들어 남은 메서드들 작성

~~근데 예시가 좀 이해가 안되는데…?~~

~~클라이언트는 AbstractList 객체랑 인터랙션 하는게 맞는거야..?~~ 

~~더 찾아봐야 함~~

지금까지 인터페이스를 사용해본적이 없어서 이번 장은 좀 이해가 안된다.

인터페이스를 언제 쓰는지, 인터페이스랑 abstract class가 각각 왜 만들어졌는지부터 찾아봐야 이 장이 이해가 될 것 같다.

### 단순 구현 (simple implementation)

- 골격 구현의 작은 변종
- 추상 클래스가 아니고, 동작하는 가장 단순한 구현

### 핵심

- 다중 구현용 타입으로는 인터페이스가 적합
- 복잡한 인터페이스는 구현 수고를 덜기 위해 골격 구현 제공을 고려
    - 골격구현은 가능한 한 인터페이스의 디폴트 메서드로 제공해서 이 인터페이스를 구현한 모든 곳에서 활용